## æ•´ä½“è®¾è®¡

![image-20201115143705239](http://picbed.sedationh.cn/image-20201115143705239.png)

## Fisrt

### ç®—æ³•ç†è®º

![image-20201115153818417](http://picbed.sedationh.cn/image-20201115153818417.png)

### IMPLEMENT

å€¼å¾—æ³¨æ„çš„æ˜¯

`const first = (firstSets[symbol] = {})`è¿™é‡Œçš„è®¾è®¡ åˆšå¥½å®ç°äº†å¯¹é€’å½’éå†è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰ä¸ç®¡æ˜¯ç»ˆç»“ç¬¦å·è¿˜æ˜¯éç»ˆç»“ç¬¦å·çš„ first é›†è®¡ç®—

first å˜é‡ç”¨äºæ–¹ä¾¿ firstSet å½“å‰ symbol å€¼å†…å®¹çš„è·å–ä¸èµ‹å€¼

firstOf æ˜¯ä¸ªè‡ªæˆ‘é€’å½’å‡½æ•°ï¼Œå…¶è¿”å›å½“å‰ firstOf(symbol) å¯¹åº”çš„ first é›†åˆ

firstOf ä¼šé€šè¿‡ getProductionsForSymbol(X) æ¥å¯»æ‰¾æ¯ä¸ª grammer é¦–å­—æ¯å«æœ‰ X çš„äº§ç”Ÿå¼å­ productionsForSymbol

åœ¨æ‰€æœ‰çš„ productionsForSymbol è·å– getRHS(productionsForSymbol[k]) äº§ç”Ÿå¼çš„å³éƒ¨ production

## Follow

```js
// å‡ ç§å¯èƒ½å‡ºç°çš„æƒ…å†µ é»˜è®¤éƒ½åœ¨æ±‚follow(B)
//   1. A -> aB é‚£ä¹ˆè¦æ±‚follow(A)
//   2. A -> aBC æ±‚follow(C)
//   å¦‚æœéç»ˆç»“ç¬¦å· C | A çš„firsté›†åˆä¸­æ²¡æœ‰Îµ åˆ™ follow(B) = first(A) | first(C)
//   å¦‚æœæœ‰Îµ éœ€è¦æ¥ç€å¾€ä¸‹æ‰¾
//   A -> Bz ç›´æ¥z  å› ä¸ºä¸Šé¢firstå¯¹äºéç»ˆç»“ç¬¦å·çš„å¤„ç†ä¹Ÿæœ‰ï¼Œæ‰€ä»¥ä¹Ÿå’Œä¸Šé¢çš„æ“ä½œä¸€è‡´äº†
//   å¯¹äºå¼€å§‹ç¬¦å·çš„å¤„ç†è¿›è¡Œäº†ç‰¹å®šåˆ¤æ–­
```

## IMPLEMENT

æ²¡å•¥å¥½è¯´çš„

æ³¨æ„ä¸‹ åœ¨ B -> aB ä¸­å¯¹å¯èƒ½é€ æˆçš„æ­»å¾ªç¯è·³å‡ºå°±å¥½äº†

## ç»“æœç¤ºä¾‹

```zsh
$ node index.js
Grammar:

   S -> aBc
   S -> bAB
   A -> aAb
   A -> b
   B -> b
   B -> Îµ

First sets: 

   S : [ 'a', 'b' ]
   a : [ 'a' ]
   b : [ 'b' ]
   A : [ 'a', 'b' ]
   B : [ 'b', 'Îµ' ]
   Îµ : [ 'Îµ' ]
   c : [ 'c' ]

Follow sets: 

   S : [ '$' ]
   A : [ 'b', '$' ]
   B : [ 'c', '$' ]

NonTerminals: S,A,B
Terminals: a,c,b,Îµ
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   â”‚ a        â”‚ c      â”‚ b        â”‚ Îµ â”‚ $      â”‚
â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ S â”‚ S -> aBc â”‚        â”‚ S -> bAB â”‚   â”‚        â”‚
â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ A â”‚ A -> aAb â”‚        â”‚ A -> b   â”‚   â”‚        â”‚
â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ B â”‚          â”‚ B -> Îµ â”‚ B -> b   â”‚   â”‚ B -> Îµ â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step â”‚ AnalyseStack â”‚ RemainText â”‚ Action   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0    â”‚ $,S          â”‚ babb$      â”‚ S -> bAB â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1    â”‚ $,B,A,b      â”‚ babb$      â”‚ Match: b â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2    â”‚ $,B,A        â”‚ abb$       â”‚ A -> aAb â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3    â”‚ $,B,b,A,a    â”‚ abb$       â”‚ Match: a â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 4    â”‚ $,B,b,A      â”‚ bb$        â”‚ A -> b   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 5    â”‚ $,B,b,b      â”‚ bb$        â”‚ Match: b â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 6    â”‚ $,B,b        â”‚ b$         â”‚ Match: b â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 7    â”‚ $,B          â”‚ $          â”‚ B -> Îµ   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 8    â”‚ $            â”‚ $          â”‚ Match: $ â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
åŒ¹é…æˆåŠŸğŸ€„ï¸
```



### ç¤ºä¾‹1

## ğŸ’¡æƒ³æ³•

firsté›†å’Œfollowçš„é›†çš„è®¾è®¡é€»è¾‘éƒ½å¾ˆå¥½ç†è§£

ç¼–ç¨‹çš„éš¾ç‚¹åœ¨äº

1. å¦‚ä½•å¤„ç†Îµçš„å‡ºç°  -> æ‰§è¡Œç»†èŠ‚å¤„ç†
2. å¦‚ä½•å¤„ç†éç»ˆç»“ç¬¦  -> é€’å½’

å†é€šè¿‡firsté›†å’Œfollowé›†æ¥æ„å»ºåˆ†æè¡¨æ ¼ï¼Œæ•°æ®ç»“æ„ï¼š

â€‹	 \[éç»ˆç»“ç¬¦][ç»ˆç»“ç¬¦]  -> How to handle? ä¹Ÿå°±æ˜¯é€‰æ‹©å“ªä¸€ä¸ªäº§ç”Ÿå¼

å› ä¸ºæ˜¯ll(1) must handle method is only one so we can use it to definitively estimate a string is ok or not



å°è£…ğŸ“¦å±è”½ç»†èŠ‚å¤„ç†ï¼Œè®©ğŸ¤”æ€è€ƒä¸“æ³¨äºéš¾ç‚¹ã€‚

## Refer

https://github.com/SinaKarimi7/LL1-Parser.git

å‚è€ƒäº†é¡¹ç›®çš„æ•´ä½“ç»“æ„ï¼Œä½¿ç”¨ EMS è¿›è¡Œäº†é‡ç»„ï¼Œä½¿ç»“æ„æ›´åŠ æ¸…æ™°

åŸ First é›†åˆæ±‚å–å’Œæ‰€ç†è§£çš„ä¸ä¸€è‡´ï¼Œè¿›è¡Œäº†ä¿®æ”¹



